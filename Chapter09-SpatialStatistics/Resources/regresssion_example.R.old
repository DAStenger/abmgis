# Old regression example I used before calculating the statistics properly

# Regression GoF Example

A simple graph illustrating some hypothetical observed data against hypothetical modelled data and a best-fit line.
_This isn't used any more_

```{r regression_graph, fig.width=9, fig.height=5, eval=FALSE}

# Number of data points
N <- 50

# Some x values
x <- sort(sample.int(N,N))
# Identical y values so that the linear model (line of best fit) is a straight line through the origin
y <- x 
# Some 'modelled' data with randomness
y1 <- x + rnorm(N, 0, N/10) #runif(N,-20,20) 
# Line of best fit
m <- lm( y ~ x )
# Residuals
res1 <- signif(residuals(m), 5)
pre1 <- predict(m)

# Another model with some more randomness
y2 <- sort(sample.int(N,N)) + rnorm(N, 0, N/5) #runif(N,-20,20) 
res2 <- signif(residuals(m), 5)
pre2 <- predict(m)

# Plot the data and regression line
doplot <- function () {
  par(mfrow=c(1,2))
  
  # First model
  plot(x,y1, main = "Hypothetical Model A", xlab="Observed Data", ylab="Simulated Data", ylim = c(0,N+20), xlim=c(0,N), cex=1.2)
  abline(m, col="red")
  # Add residuals
  segments(x, y1, x, pre1, col="gray")
  
  # Second model
  plot(x,y2, main="Hypothetical Model B", xlab="Observed Data", ylab="Simulated Data", ylim = c(0,N+20), xlim=c(0,N), cex=1.2)
  abline(m, col="red")
  segments(x, y2, x, pre2, col="gray")

  par(mfrow=c(1,1))
}



# Plot for the knitr'd document
doplot()

# And a pdf for the book:
pdf(file="regression_graph.pdf", width=9, height=5)
doplot()
dev.off()

```
